(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2076],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>d,r:()=>o});var t=s(5155),l=s(2115),r=s(9708),n=s(2085),i=s(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,a)=>{let{className:s,variant:l,size:n,asChild:d=!1,...c}=e,m=d?r.DX:"button";return(0,t.jsx)(m,{className:(0,i.cn)(o({variant:l,size:n,className:s})),ref:a,suppressHydrationWarning:!0,...c})});d.displayName="Button"},821:(e,a,s)=>{Promise.resolve().then(s.bind(s,9077))},1394:(e,a,s)=>{"use strict";s.d(a,{BK:()=>o,eu:()=>i,q5:()=>d});var t=s(5155),l=s(2115),r=s(4011),n=s(9434);let i=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...l})});i.displayName=r.bL.displayName;let o=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",s),...l})});o.displayName=r._V.displayName;let d=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(r.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...l})});d.displayName=r.H4.displayName},6424:(e,a,s)=>{"use strict";s.d(a,{F:()=>i});var t=s(5155),l=s(2115),r=s(7655),n=s(9434);let i=l.forwardRef((e,a)=>{let{className:s,children:l,...i}=e;return(0,t.jsxs)(r.bL,{ref:a,className:(0,n.cn)("relative overflow-hidden",s),...i,children:[(0,t.jsx)(r.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(o,{}),(0,t.jsx)(r.OK,{})]})});i.displayName=r.bL.displayName;let o=l.forwardRef((e,a)=>{let{className:s,orientation:l="vertical",...i}=e;return(0,t.jsx)(r.VM,{ref:a,orientation:l,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...i,children:(0,t.jsx)(r.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=r.VM.displayName},6681:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(2115),l=s(8232);let r=()=>{let e=(0,t.useContext)(l.c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8856:(e,a,s)=>{"use strict";s.d(a,{E:()=>r});var t=s(5155),l=s(9434);function r(e){let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",a),...s})}},9077:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ea});var t=s(5155),l=s(2115),r=s(5695),n=s(6874),i=s.n(n),o=s(285),d=s(5452),c=s(2085),m=s(5318),f=s(9434);let u=d.bL,x=d.l9;d.bm;let p=d.ZL,h=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(d.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:a})});h.displayName=d.hJ.displayName;let g=(0,c.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),b=l.forwardRef((e,a)=>{let{side:s="right",className:l,children:r,...n}=e;return(0,t.jsxs)(p,{children:[(0,t.jsx)(h,{}),(0,t.jsxs)(d.UC,{ref:a,className:(0,f.cn)(g({side:s}),l),...n,children:[r,(0,t.jsxs)(d.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});b.displayName=d.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(d.hE,{ref:a,className:(0,f.cn)("text-lg font-semibold text-foreground",s),...l})}).displayName=d.hE.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(d.VY,{ref:a,className:(0,f.cn)("text-sm text-muted-foreground",s),...l})}).displayName=d.VY.displayName;var j=s(6424),N=s(7082);function v(e){let{collapsed:a}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-2 px-2","aria-label":"KarobHR Home",children:[(0,t.jsx)(N.A,{className:"h-7 w-7 text-primary"}),!a&&(0,t.jsx)("h1",{className:"text-xl font-bold text-primary",children:"KarobHR"})]})}var y=s(1394),w=s(8698),R=s(3158),A=s(518),k=s(154);let C=w.bL,_=w.l9,z=w.YJ;w.ZL,w.Pb,w.z6,l.forwardRef((e,a)=>{let{className:s,inset:l,children:r,...n}=e;return(0,t.jsxs)(w.ZP,{ref:a,className:(0,f.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",s),...n,children:[r,(0,t.jsx)(R.A,{className:"ml-auto"})]})}).displayName=w.ZP.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(w.G5,{ref:a,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})}).displayName=w.G5.displayName;let E=l.forwardRef((e,a)=>{let{className:s,sideOffset:l=4,...r}=e;return(0,t.jsx)(w.ZL,{children:(0,t.jsx)(w.UC,{ref:a,sideOffset:l,className:(0,f.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});E.displayName=w.UC.displayName;let L=l.forwardRef((e,a)=>{let{className:s,inset:l,...r}=e;return(0,t.jsx)(w.q7,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",s),...r})});L.displayName=w.q7.displayName,l.forwardRef((e,a)=>{let{className:s,children:l,checked:r,...n}=e;return(0,t.jsxs)(w.H_,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(w.VF,{children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})}),l]})}).displayName=w.H_.displayName,l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(w.hN,{ref:a,className:(0,f.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(w.VF,{children:(0,t.jsx)(k.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=w.hN.displayName;let H=l.forwardRef((e,a)=>{let{className:s,inset:l,...r}=e;return(0,t.jsx)(w.JU,{ref:a,className:(0,f.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",s),...r})});H.displayName=w.JU.displayName;let P=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(w.wv,{ref:a,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",s),...l})});P.displayName=w.wv.displayName;var U=s(6681),V=s(469),M=s(8294),B=s(8271),F=s(3349);function S(){var e;let{user:a,logout:s,role:l}=(0,U.A)(),n=(0,r.useRouter)(),d=async()=>{await s(),n.push("/login")};if(!a)return null;let c=a.name?a.name.split(" ").map(e=>e[0]).join("").toUpperCase():(null===(e=a.email)||void 0===e?void 0:e[0].toUpperCase())||"?";return(0,t.jsxs)(C,{children:[(0,t.jsx)(_,{asChild:!0,children:(0,t.jsx)(o.$,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:(0,t.jsxs)(y.eu,{className:"h-9 w-9",children:[(0,t.jsx)(y.BK,{src:a.profilePictureUrl||void 0,alt:a.name||a.email||"User Avatar","data-ai-hint":"avatar person"}),(0,t.jsx)(y.q5,{children:c})]})})}),(0,t.jsxs)(E,{className:"w-56",align:"end",forceMount:!0,children:[(0,t.jsx)(H,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:a.name||"User"}),(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:a.email})]})}),(0,t.jsx)(P,{}),(0,t.jsxs)(z,{children:[(0,t.jsx)(i(),{href:"admin"===l?"/admin/dashboard":"/dashboard",passHref:!0,children:(0,t.jsxs)(L,{children:[(0,t.jsx)(V.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Dashboard"})]})}),(0,t.jsx)(i(),{href:"/profile",passHref:!0,children:(0,t.jsxs)(L,{children:[(0,t.jsx)(M.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Profile"})]})}),"admin"===l?(0,t.jsx)(i(),{href:"/admin/settings",passHref:!0,children:(0,t.jsxs)(L,{children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Company Settings"})]})}):(0,t.jsx)(i(),{href:"/settings",passHref:!0,children:(0,t.jsxs)(L,{children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"My Settings"})]})})]}),(0,t.jsx)(P,{}),(0,t.jsxs)(L,{onClick:d,children:[(0,t.jsx)(F.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Log out"})]})]})]})}var q=s(6570),J=s(3338),K=s(960),O=s(8224),Z=s(6160),D=s(286),T=s(7648),Y=s(3038),$=s(8328),G=s(8341);let W=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768,[a,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let a=()=>{s(window.innerWidth<e)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),a},X=[{href:"/dashboard",label:"Dashboard",icon:V.A,allowedRoles:["employee","manager"]},{href:"/admin/dashboard",label:"Admin Dashboard",icon:q.A,allowedRoles:["admin"]},{href:"/profile",label:"Profile",icon:M.A,allowedRoles:["admin","manager","employee"]},{href:"/attendance",label:"My Attendance",icon:J.A,allowedRoles:["employee","manager","admin"]},{href:"/tasks",label:"My Tasks",icon:K.A,allowedRoles:["employee","manager"]},{href:"/leave",label:"Leave",icon:O.A,allowedRoles:["employee","admin","manager"]},{href:"/payroll",label:"My Payslip",icon:Z.A,allowedRoles:["employee","manager"]},{href:"/settings",label:"Settings",icon:B.A,allowedRoles:["employee","manager"]},{href:"/admin/employees",label:"Employees",icon:D.A,allowedRoles:["admin"]},{href:"/admin/tasks",label:"Manage Tasks",icon:N.A,allowedRoles:["admin"]},{href:"/admin/live-attendance",label:"Live Attendance",icon:T.A,allowedRoles:["admin"]},{href:"/admin/payroll",label:"Payroll",icon:Y.A,allowedRoles:["admin"]},{href:"/admin/holidays",label:"Holidays",icon:$.A,allowedRoles:["admin"]},{href:"/admin/settings",label:"Company Settings",icon:B.A,allowedRoles:["admin"],isBottom:!0}],I=e=>{let{onLinkClick:a}=e,{role:s,logout:l}=(0,U.A)(),n=(0,r.usePathname)(),o=X.filter(e=>s&&e.allowedRoles.includes(s)),d=o.filter(e=>!e.isBottom),c=o.filter(e=>e.isBottom),m=e=>e.map(e=>(0,t.jsxs)(i(),{href:e.href,onClick:a,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary ".concat(n===e.href?"bg-muted text-primary":""),children:[(0,t.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.label+e.href));return(0,t.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,t.jsx)("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6",children:(0,t.jsxs)(i(),{href:"/",className:"flex items-center gap-2 font-semibold",onClick:a,children:[(0,t.jsx)(v,{}),(0,t.jsx)("span",{className:"",children:"BizFlow"})]})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(j.F,{className:"h-[calc(100vh-160px)]",children:(0,t.jsx)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4",children:m(d)})})}),(0,t.jsx)("div",{className:"mt-auto p-4 border-t",children:(0,t.jsxs)("nav",{className:"grid items-start text-sm font-medium",children:[m(c),(0,t.jsxs)("button",{onClick:()=>{a&&a(),l()},className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",children:[(0,t.jsx)(F.A,{className:"h-4 w-4"}),"Logout"]})]})})]})};function Q(e){let{children:a}=e,s=W(),[r,n]=l.useState(!1);return(0,t.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,t.jsx)("div",{className:"hidden border-r bg-muted/40 md:block",children:(0,t.jsx)(I,{})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b bg-muted/40 px-4 lg:h-[60px] lg:px-6",children:[(0,t.jsxs)(u,{open:r,onOpenChange:n,children:[(0,t.jsx)(x,{asChild:!0,children:(0,t.jsxs)(o.$,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",onClick:()=>n(!0),children:[(0,t.jsx)(G.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,t.jsx)(b,{side:"left",className:"flex flex-col p-0",children:(0,t.jsx)(I,{onLinkClick:()=>{s&&n(!1)}})})]}),(0,t.jsx)("div",{className:"w-full flex-1"}),(0,t.jsx)(S,{})]}),(0,t.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-4 lg:gap-6 lg:p-6 bg-background",children:a})]})]})}var ee=s(8856);function ea(e){let{children:a}=e,{user:s,loading:n}=(0,U.A)(),i=(0,r.useRouter)();return((0,l.useEffect)(()=>{n||s||i.replace("/login")},[s,n,i]),n||!s)?(0,t.jsx)("div",{className:"flex h-screen w-screen items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"space-y-4 w-full max-w-md p-4",children:[(0,t.jsx)(ee.E,{className:"h-16 w-full"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(ee.E,{className:"h-[calc(100vh-10rem)] w-16"}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsx)(ee.E,{className:"h-32 w-full"}),(0,t.jsx)(ee.E,{className:"h-8 w-3/4"}),(0,t.jsx)(ee.E,{className:"h-8 w-1/2"})]})]})]})}):(0,t.jsx)(Q,{children:a})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2992,6073,4277,4644,3874,8178,587,5679,4443,7655,8586,7275,8441,1684,7358],()=>a(821)),_N_E=e.O()}]);