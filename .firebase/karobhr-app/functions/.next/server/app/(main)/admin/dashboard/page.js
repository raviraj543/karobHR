(()=>{var e={};e.id=308,e.ids=[308],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var r=s(60687),n=s(43210),a=s(44493),i=s(29523),o=s(89667),d=s(34729),l=s(80013),c=s(48206),m=s(4358),u=s(8872),p=s(82614);let h=(0,p.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var x=s(58369);let f=(0,p.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var g=s(40988),v=s(85866),b=s(85814),j=s.n(b),y=s(87979),w=s(29867),A=s(42692);let N=[{title:"Total Employees",value:"75",icon:c.A,link:"/admin/employees"},{title:"Pending Leave Approvals",value:"5",icon:m.A,link:"/admin/leave-approvals"},{title:"Tasks In Progress",value:"23",icon:u.A,link:"/admin/tasks"},{title:"System Health",value:"Optimal",icon:h,color:"text-green-500"}];function R(){let{allUsers:e,announcements:t,addAnnouncement:s,user:c}=(0,y.A)(),{toast:m}=(0,w.dj)(),[u,p]=(0,n.useState)(""),[h,b]=(0,n.useState)(""),[R,k]=(0,n.useState)(!1),P=e.filter(e=>"employee"===e.role||"manager"===e.role).length;N[0].value=P.toString();let C=async e=>{if(e.preventDefault(),console.log(">>> KAROBHR TRACE: AdminDashboardPage - handlePostAnnouncement triggered."),!c||"admin"!==c.role){console.error(">>> KAROBHR TRACE: AdminDashboardPage - User is not an admin or not logged in. Cannot post announcement."),m({title:"Permission Denied",description:"You do not have permission to post announcements.",variant:"destructive"});return}if(!u.trim()||!h.trim()){console.log(">>> KAROBHR TRACE: AdminDashboardPage - Announcement title or content is empty."),m({title:"Missing Information",description:"Please provide both a title and content for the announcement.",variant:"destructive"});return}console.log(">>> KAROBHR TRACE: AdminDashboardPage - Setting isPostingAnnouncement to true."),k(!0);try{console.log(`>>> KAROBHR TRACE: AdminDashboardPage - Calling addAnnouncement from context with title: "${u}"`),await s(u,h),console.log(">>> KAROBHR TRACE: AdminDashboardPage - addAnnouncement call successful."),m({title:"Announcement Posted!",description:"Your announcement is now visible to all employees."}),p(""),b("")}catch(e){console.error(">>> KAROBHR TRACE: AdminDashboardPage - Error in handlePostAnnouncement:",e),m({title:"Error Posting Announcement",description:e.message||"Could not post the announcement.",variant:"destructive"})}finally{console.log(">>> KAROBHR TRACE: AdminDashboardPage - Setting isPostingAnnouncement to false."),k(!1)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Overview of company operations and quick actions."})]}),(0,r.jsx)(j(),{href:"/admin/settings",passHref:!0,children:(0,r.jsxs)(i.$,{variant:"outline",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Company Settings"]})})]}),(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:N.map(e=>(0,r.jsxs)(a.Zp,{className:"shadow-sm hover:shadow-md transition-shadow",children:[(0,r.jsxs)(a.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(a.ZB,{className:"text-sm font-medium",children:e.title}),(0,r.jsx)(e.icon,{className:`h-5 w-5 text-muted-foreground ${e.color||""}`})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:e.value}),e.link?(0,r.jsx)(j(),{href:e.link,className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:"Manage â†’"}):(0,r.jsx)("span",{className:"text-xs text-muted-foreground",children:"\xa0"})]})]},e.title))}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(a.Zp,{className:"shadow-sm",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Recent Employee Activity"}),(0,r.jsx)(a.BT,{children:"Overview of recent check-ins, task updates, and leave requests."})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Employee activity data will be shown here."}),(0,r.jsx)("div",{className:"mt-4 h-64 bg-muted rounded-md flex items-center justify-center border","data-ai-hint":"bar chart employee activity",children:(0,r.jsx)(f,{className:"h-16 w-16 text-muted-foreground/50"})})]})]}),(0,r.jsxs)(a.Zp,{className:"shadow-sm",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Quick Links"}),(0,r.jsx)(a.BT,{children:"Access common admin tasks quickly."})]}),(0,r.jsxs)(a.Wu,{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(i.$,{variant:"outline",asChild:!0,children:(0,r.jsx)(j(),{href:"/admin/employees/new",children:"Add New Employee"})}),(0,r.jsx)(i.$,{variant:"outline",asChild:!0,children:(0,r.jsx)(j(),{href:"/admin/tasks",children:"Assign New Task"})}),(0,r.jsx)(i.$,{variant:"outline",asChild:!0,children:(0,r.jsx)(j(),{href:"/admin/holidays",children:"Manage Holidays"})}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground col-span-2",children:"Report generation coming soon."})]})]})]}),(0,r.jsxs)(a.Zp,{className:"shadow-sm",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsxs)(a.ZB,{className:"flex items-center",children:[(0,r.jsx)(g.A,{className:"mr-2 h-5 w-5 text-primary"}),"Post Company Announcement"]}),(0,r.jsx)(a.BT,{children:"Share important updates with all employees."})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"announcementTitle",children:"Title"}),(0,r.jsx)(o.p,{id:"announcementTitle",value:u,onChange:e=>p(e.target.value),placeholder:"e.g., Upcoming Holiday Schedule",disabled:R})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.J,{htmlFor:"announcementContent",children:"Content"}),(0,r.jsx)(d.T,{id:"announcementContent",value:h,onChange:e=>b(e.target.value),placeholder:"Enter the details of your announcement here...",rows:4,disabled:R})]}),(0,r.jsx)(i.$,{type:"submit",disabled:R||!c||"admin"!==c.role,children:R?"Posting...":(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"})," Post Announcement"]})})]})})]}),(0,r.jsxs)(a.Zp,{className:"shadow-sm",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Recent Announcements"}),(0,r.jsx)(a.BT,{children:"A log of announcements you've posted."})]}),(0,r.jsx)(a.Wu,{children:t&&t.length>0?(0,r.jsx)(A.F,{className:"h-72 border rounded-md p-4 bg-background",children:(0,r.jsx)("ul",{className:"space-y-4",children:t.map(e=>(0,r.jsxs)("li",{className:"p-4 border rounded-md bg-muted/50 shadow-sm",children:[(0,r.jsx)("h4",{className:"font-semibold text-foreground",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Posted by ",e.postedByName," on ",new Date(e.postedAt).toLocaleDateString()," at ",new Date(e.postedAt).toLocaleTimeString()]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-foreground whitespace-pre-wrap",children:e.content})]},e.id))})}):(0,r.jsx)("p",{className:"text-muted-foreground",children:"No announcements posted yet."})})]}),(0,r.jsxs)(a.Zp,{className:"shadow-sm",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Task Completion Overview"}),(0,r.jsx)(a.BT,{children:"Summary of task statuses across the organization."})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Task overview data will be shown here."}),(0,r.jsx)("div",{className:"mt-4 h-64 bg-muted rounded-md flex items-center justify-center border","data-ai-hint":"pie chart task status",children:(0,r.jsx)(f,{className:"h-16 w-16 text-muted-foreground/50"})})]})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},25007:(e,t,s)=>{Promise.resolve().then(s.bind(s,16927))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(60687),n=s(43210),a=s(4780);let i=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));i.displayName="Textarea"},37366:e=>{"use strict";e.exports=require("dns")},40988:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]])},44493:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>o});var r=s(60687),n=s(43210),a=s(4780);let i=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let d=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let l=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let c=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",n.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},49132:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>l});var r=s(65239),n=s(48088),a=s(88170),i=s.n(a),o=s(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let l={children:["",{children:["(main)",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96584)),"/home/user/studio/src/app/(main)/admin/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,60448)),"/home/user/studio/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/(main)/admin/dashboard/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(main)/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71863:(e,t,s)=>{Promise.resolve().then(s.bind(s,96584))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var r=s(43210),n=s(14163),a=s(60687),i=r.forwardRef((e,t)=>(0,a.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var r=s(60687),n=s(43210),a=s(78148),i=s(24224),o=s(4780);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=n.forwardRef(({className:e,...t},s)=>(0,r.jsx)(a.b,{ref:s,className:(0,o.cn)(d(),e),...t}));l.displayName=a.b.displayName},81630:e=>{"use strict";e.exports=require("http")},85866:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},89667:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(60687),n=s(43210),a=s(4780);let i=n.forwardRef(({className:e,type:t,...s},n)=>(0,r.jsx)("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,suppressHydrationWarning:!0,...s}));i.displayName="Input"},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96584:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/(main)/admin/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/(main)/admin/dashboard/page.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,178,658,814,595,449,208],()=>s(49132));module.exports=r})();