exports.id=208,exports.ids=[208],exports.modules={12787:(e,a,s)=>{Promise.resolve().then(s.bind(s,60448))},23563:(e,a,s)=>{Promise.resolve().then(s.bind(s,59599))},29523:(e,a,s)=>{"use strict";s.d(a,{$:()=>d,r:()=>i});var t=s(60687),l=s(43210),r=s(8730),n=s(24224),o=s(4780);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef(({className:e,variant:a,size:s,asChild:l=!1,...n},d)=>{let c=l?r.DX:"button";return(0,t.jsx)(c,{className:(0,o.cn)(i({variant:a,size:s,className:e})),ref:d,suppressHydrationWarning:!0,...n})});d.displayName="Button"},32584:(e,a,s)=>{"use strict";s.d(a,{BK:()=>i,eu:()=>o,q5:()=>d});var t=s(60687),l=s(43210),r=s(11096),n=s(4780);let o=l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(r.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...a}));o.displayName=r.bL.displayName;let i=l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(r._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",e),...a}));i.displayName=r._V.displayName;let d=l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(r.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...a}));d.displayName=r.H4.displayName},42692:(e,a,s)=>{"use strict";s.d(a,{F:()=>o});var t=s(60687),l=s(43210),r=s(68123),n=s(4780);let o=l.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(r.bL,{ref:l,className:(0,n.cn)("relative overflow-hidden",e),...s,children:[(0,t.jsx)(r.LM,{className:"h-full w-full rounded-[inherit]",children:a}),(0,t.jsx)(i,{}),(0,t.jsx)(r.OK,{})]}));o.displayName=r.bL.displayName;let i=l.forwardRef(({className:e,orientation:a="vertical",...s},l)=>(0,t.jsx)(r.VM,{ref:l,orientation:a,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:(0,t.jsx)(r.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=r.VM.displayName},59599:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>es});var t=s(60687),l=s(43210),r=s.n(l),n=s(16189),o=s(85814),i=s.n(o),d=s(29523),c=s(26134),m=s(24224),f=s(78726),p=s(4780);let x=c.bL,h=c.l9;c.bm;let u=c.ZL,g=l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(c.hJ,{className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a,ref:s}));g.displayName=c.hJ.displayName;let b=(0,m.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),j=l.forwardRef(({side:e="right",className:a,children:s,...l},r)=>(0,t.jsxs)(u,{children:[(0,t.jsx)(g,{}),(0,t.jsxs)(c.UC,{ref:r,className:(0,p.cn)(b({side:e}),a),...l,children:[s,(0,t.jsxs)(c.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));j.displayName=c.UC.displayName,l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(c.hE,{ref:s,className:(0,p.cn)("text-lg font-semibold text-foreground",e),...a})).displayName=c.hE.displayName,l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(c.VY,{ref:s,className:(0,p.cn)("text-sm text-muted-foreground",e),...a})).displayName=c.VY.displayName;var N=s(42692),v=s(33886);function y({collapsed:e}){return(0,t.jsxs)("div",{className:"flex items-center gap-2 px-2","aria-label":"KarobHR Home",children:[(0,t.jsx)(v.A,{className:"h-7 w-7 text-primary"}),!e&&(0,t.jsx)("h1",{className:"text-xl font-bold text-primary",children:"KarobHR"})]})}var w=s(32584),R=s(26312),A=s(74158),k=s(58450),C=s(73256);let z=R.bL,L=R.l9,_=R.YJ;R.ZL,R.Pb,R.z6,l.forwardRef(({className:e,inset:a,children:s,...l},r)=>(0,t.jsxs)(R.ZP,{ref:r,className:(0,p.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...l,children:[s,(0,t.jsx)(A.A,{className:"ml-auto"})]})).displayName=R.ZP.displayName,l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(R.G5,{ref:s,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})).displayName=R.G5.displayName;let E=l.forwardRef(({className:e,sideOffset:a=4,...s},l)=>(0,t.jsx)(R.ZL,{children:(0,t.jsx)(R.UC,{ref:l,sideOffset:a,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));E.displayName=R.UC.displayName;let H=l.forwardRef(({className:e,inset:a,...s},l)=>(0,t.jsx)(R.q7,{ref:l,className:(0,p.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",e),...s}));H.displayName=R.q7.displayName,l.forwardRef(({className:e,children:a,checked:s,...l},r)=>(0,t.jsxs)(R.H_,{ref:r,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(R.VF,{children:(0,t.jsx)(k.A,{className:"h-4 w-4"})})}),a]})).displayName=R.H_.displayName,l.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(R.hN,{ref:l,className:(0,p.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(R.VF,{children:(0,t.jsx)(C.A,{className:"h-2 w-2 fill-current"})})}),a]})).displayName=R.hN.displayName;let P=l.forwardRef(({className:e,inset:a,...s},l)=>(0,t.jsx)(R.JU,{ref:l,className:(0,p.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",e),...s}));P.displayName=R.JU.displayName;let U=l.forwardRef(({className:e,...a},s)=>(0,t.jsx)(R.wv,{ref:s,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",e),...a}));U.displayName=R.wv.displayName;var M=s(87979),V=s(59059),B=s(44802),F=s(58369),S=s(49497);function q(){let{user:e,logout:a,role:s}=(0,M.A)(),l=(0,n.useRouter)(),r=async()=>{await a(),l.push("/login")};if(!e)return null;let o=e.name?e.name.split(" ").map(e=>e[0]).join("").toUpperCase():e.email?.[0].toUpperCase()||"?";return(0,t.jsxs)(z,{children:[(0,t.jsx)(L,{asChild:!0,children:(0,t.jsx)(d.$,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:(0,t.jsxs)(w.eu,{className:"h-9 w-9",children:[(0,t.jsx)(w.BK,{src:e.profilePictureUrl||void 0,alt:e.name||e.email||"User Avatar","data-ai-hint":"avatar person"}),(0,t.jsx)(w.q5,{children:o})]})})}),(0,t.jsxs)(E,{className:"w-56",align:"end",forceMount:!0,children:[(0,t.jsx)(P,{className:"font-normal",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:e.name||"User"}),(0,t.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:e.email})]})}),(0,t.jsx)(U,{}),(0,t.jsxs)(_,{children:[(0,t.jsx)(i(),{href:"admin"===s?"/admin/dashboard":"/dashboard",passHref:!0,children:(0,t.jsxs)(H,{children:[(0,t.jsx)(V.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Dashboard"})]})}),(0,t.jsx)(i(),{href:"/profile",passHref:!0,children:(0,t.jsxs)(H,{children:[(0,t.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Profile"})]})}),"admin"===s?(0,t.jsx)(i(),{href:"/admin/settings",passHref:!0,children:(0,t.jsxs)(H,{children:[(0,t.jsx)(F.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Company Settings"})]})}):(0,t.jsx)(i(),{href:"/settings",passHref:!0,children:(0,t.jsxs)(H,{children:[(0,t.jsx)(F.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"My Settings"})]})})]}),(0,t.jsx)(U,{}),(0,t.jsxs)(H,{onClick:r,children:[(0,t.jsx)(S.A,{className:"mr-2 h-4 w-4"}),(0,t.jsx)("span",{children:"Log out"})]})]})]})}var J=s(21724),K=s(37162),Z=s(8872),D=s(4358),$=s(29596),O=s(48206),T=s(15036),Y=s(9023),G=s(92876),W=s(24343);let I=(e=768)=>{let[a,s]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let a=()=>{s(window.innerWidth<e)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[e]),a},X=[{href:"/dashboard",label:"Dashboard",icon:V.A,allowedRoles:["employee","manager"]},{href:"/admin/dashboard",label:"Admin Dashboard",icon:J.A,allowedRoles:["admin"]},{href:"/profile",label:"Profile",icon:B.A,allowedRoles:["admin","manager","employee"]},{href:"/attendance",label:"My Attendance",icon:K.A,allowedRoles:["employee","manager","admin"]},{href:"/tasks",label:"My Tasks",icon:Z.A,allowedRoles:["employee","manager"]},{href:"/leave",label:"Leave",icon:D.A,allowedRoles:["employee","admin","manager"]},{href:"/payroll",label:"My Payslip",icon:$.A,allowedRoles:["employee","manager"]},{href:"/settings",label:"Settings",icon:F.A,allowedRoles:["employee","manager"]},{href:"/admin/employees",label:"Employees",icon:O.A,allowedRoles:["admin"]},{href:"/admin/tasks",label:"Manage Tasks",icon:v.A,allowedRoles:["admin"]},{href:"/admin/live-attendance",label:"Live Attendance",icon:T.A,allowedRoles:["admin"]},{href:"/admin/payroll",label:"Payroll",icon:Y.A,allowedRoles:["admin"]},{href:"/admin/holidays",label:"Holidays",icon:G.A,allowedRoles:["admin"]},{href:"/admin/settings",label:"Company Settings",icon:F.A,allowedRoles:["admin"],isBottom:!0}],Q=({onLinkClick:e})=>{let{role:a,logout:s}=(0,M.A)(),l=(0,n.usePathname)(),r=X.filter(e=>a&&e.allowedRoles.includes(a)),o=r.filter(e=>!e.isBottom),d=r.filter(e=>e.isBottom),c=a=>a.map(a=>(0,t.jsxs)(i(),{href:a.href,onClick:e,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary ${l===a.href?"bg-muted text-primary":""}`,children:[(0,t.jsx)(a.icon,{className:"h-4 w-4"}),a.label]},a.label+a.href));return(0,t.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,t.jsx)("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6",children:(0,t.jsxs)(i(),{href:"/",className:"flex items-center gap-2 font-semibold",onClick:e,children:[(0,t.jsx)(y,{}),(0,t.jsx)("span",{className:"",children:"BizFlow"})]})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(N.F,{className:"h-[calc(100vh-160px)]",children:(0,t.jsx)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4",children:c(o)})})}),(0,t.jsx)("div",{className:"mt-auto p-4 border-t",children:(0,t.jsxs)("nav",{className:"grid items-start text-sm font-medium",children:[c(d),(0,t.jsxs)("button",{onClick:()=>{e&&e(),s()},className:"flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",children:[(0,t.jsx)(S.A,{className:"h-4 w-4"}),"Logout"]})]})})]})};function ee({children:e}){let a=I(),[s,l]=r().useState(!1);return(0,t.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,t.jsx)("div",{className:"hidden border-r bg-muted/40 md:block",children:(0,t.jsx)(Q,{})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b bg-muted/40 px-4 lg:h-[60px] lg:px-6",children:[(0,t.jsxs)(x,{open:s,onOpenChange:l,children:[(0,t.jsx)(h,{asChild:!0,children:(0,t.jsxs)(d.$,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",onClick:()=>l(!0),children:[(0,t.jsx)(W.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,t.jsx)(j,{side:"left",className:"flex flex-col p-0",children:(0,t.jsx)(Q,{onLinkClick:()=>{a&&l(!1)}})})]}),(0,t.jsx)("div",{className:"w-full flex-1"}),(0,t.jsx)(q,{})]}),(0,t.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-4 lg:gap-6 lg:p-6 bg-background",children:e})]})]})}var ea=s(85726);function es({children:e}){let{user:a,loading:s}=(0,M.A)();return((0,n.useRouter)(),s||!a)?(0,t.jsx)("div",{className:"flex h-screen w-screen items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"space-y-4 w-full max-w-md p-4",children:[(0,t.jsx)(ea.E,{className:"h-16 w-full"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(ea.E,{className:"h-[calc(100vh-10rem)] w-16"}),(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,t.jsx)(ea.E,{className:"h-32 w-full"}),(0,t.jsx)(ea.E,{className:"h-8 w-3/4"}),(0,t.jsx)(ea.E,{className:"h-8 w-1/2"})]})]})]})}):(0,t.jsx)(ee,{children:e})}},60448:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/(main)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/(main)/layout.tsx","default")},70440:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(31658);let l=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},85726:(e,a,s)=>{"use strict";s.d(a,{E:()=>r});var t=s(60687),l=s(4780);function r({className:e,...a}){return(0,t.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",e),...a})}},87979:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});var t=s(43210),l=s(31656);let r=()=>{let e=(0,t.useContext)(l.c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}};